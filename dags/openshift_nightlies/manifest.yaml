versions:
  - version: "4.11"
    alias: previous
    releaseStream: 4.11.0-0.nightly
    baremetalReleaseStream: latest-4.11
  - version: "4.12"
    alias: stable
    releaseStream: 4.12.0-0.nightly
    baremetalReleaseStream: latest-4.12
  - version: "4.13"
    alias: next
    releaseStream: 4.13.0-0.nightly
    baremetalReleaseStream: latest-4.13

dagConfig:
  schedules:
    enabled: true
    default: "0 12 * * 1,3,5"
    openstack: "0 12 * * 1-6"
  cleanupOnSuccess: true
  executorImages:
    repository: quay.io/cloud-bulldozer
    tag: 2.3.2
  dependencies:
    e2e_benchmarking:
      repo: https://github.com/cloud-bulldozer/e2e-benchmarking.git
      branch: master

platforms:

  # Do not program concurrent builds of ROSA/ROGCP/ARO
  cloud:
    versions: ["4.11", "4.12"]
    providers: ["aws"]
    variants:
      - name: small-control-plane
        schedule: "10 12 * * 3"
        config:
          install: ovn-small.json
          benchmarks: small-control-plane.json
      - name: medium-control-plane
        schedule: "10 12 * * 3"
        config:
          install: ovn-medium.json
          benchmarks: medium-control-plane.json
      - name: large-control-plane
        schedule: "10 12 * * 3"
        config:
          install: ovn-large.json
          benchmarks: large-control-plane.json
      - name: selfm-upgrade-250
        schedule: "10 12 * * 3"
        config:
          install: ovn-large.json
          benchmarks: upgrade-250.json
  rosa:
    versions: ["4.11", "4.12"]
    variants:
      - name: ovn-control-plane-s
        schedule: "10 12 * * 3"
        config:
          install: rosa/ovn-s.json
          benchmarks: control-plane-baseline-s.json
      - name: ovn-control-plane-m
        schedule: "10 12 * * 3"
        config:
          install: rosa/ovn-m.json
          benchmarks: control-plane-baseline-m.json
      - name: ovn-control-plane-l
        schedule: "10 12 * * 3"
        config:
          install: rosa/ovn-l.json
          benchmarks: control-plane-baseline-l.json
      - name: ovn-control-plane-xl
        schedule: "10 12 * * 3"
        config:
          install: rosa/ovn-xl.json
          benchmarks: control-plane-baseline-xl.json
      - name: ovn-upgrade-24
        schedule: "10 12 * * 3"
        config:
          install: rosa/upgrade-s.json
          benchmarks: upgrade-24.json
      - name: ovn-upgrade-250
        schedule: "10 12 * * 3"
        config:
          install: rosa/upgrade-l.json
          benchmarks: upgrade-250.json
      - name: ovn-upgrade-120
        schedule: "10 12 * * 3"
        config:
          install: rosa/upgrade-m.json
          benchmarks: upgrade-120.json
